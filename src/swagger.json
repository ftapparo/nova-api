{
  "openapi": "3.0.1",
  "info": {
    "title": "NOVA-API",
    "description": "API de serviços para condomínio Nova Residence Quintas das Paineiras.",
    "version": "2.0.0"
  },
  "tags": [
    {
      "name": "Monitoramento",
      "description": "Verificacao de status e saude da API (health check)."
    },
    {
      "name": "Acessos",
      "description": "Operacoes relacionadas a verificacao, liberacao e registro de acessos (pedestres e veiculos)."
    },
    {
      "name": "Veiculos",
      "description": "Gerenciamento de dados de veiculos, incluindo cadastro, bloqueio, imagem e TAG de acesso."
    },
    {
      "name": "Exaustores",
      "description": "Controle de exaustores das churrasqueiras (ligar, desligar e status)."
    },
    {
      "name": "Consultas",
      "description": "Consultas por CPF, placa e tag de veículo."
    },
    {
      "name": "Controle",
      "description": "Operacoes de abertura e listagem de portas e portoes."
    }
  ],
  "paths": {
    "/v2/api/health": {
      "get": {
        "tags": [
          "Monitoramento"
        ],
        "summary": "Verificacao de status da API",
        "description": "Retorna o status de funcionamento da API e o ambiente atual.",
        "responses": {
          "200": {
            "description": "API em funcionamento",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "example": "API Funcionando!"
                        },
                        "environment": {
                          "type": "string",
                          "example": "development"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/healthcheck": {
      "get": {
        "tags": [
          "Monitoramento"
        ],
        "summary": "Verificacao de status da API",
        "description": "Retorna o status de funcionamento da API e o ambiente atual.",
        "responses": {
          "200": {
            "description": "API em funcionamento",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "example": "API Funcionando!"
                        },
                        "environment": {
                          "type": "string",
                          "example": "development"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/access/verify": {
      "get": {
        "tags": [
          "Acessos"
        ],
        "summary": "Verificar permissao de acesso",
        "description": "Verifica se uma pessoa ou veiculo possui permissao para acessar o condominio.",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "dispositivo",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "sentido",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "foto",
            "required": false,
            "schema": {
              "type": "string",
              "maxLength": 4
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Permissao de acesso verificada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "string",
                      "example": "IDENT:..."
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/access/register": {
      "post": {
        "tags": [
          "Acessos"
        ],
        "summary": "Registrar novo acesso",
        "description": "Registra um novo evento de acesso ao sistema (entrada ou saida).",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "examples": {
                "completo": {
                  "summary": "Completo",
                  "value": {
                    "dispositivo": 9,
                    "pessoa": 91,
                    "classificacao": 10,
                    "classAutorizado": "N",
                    "autorizacaoLanc": "N",
                    "origem": "Y",
                    "seqIdAcesso": 49,
                    "sentido": "E",
                    "quadra": "A",
                    "lote": "124",
                    "panico": "N",
                    "formaAcesso": "TAG",
                    "idAcesso": "0005624566",
                    "seqVeiculo": 745
                  }
                }
              },
              "schema": {
                "type": "object",
                "required": [
                  "dispositivo",
                  "pessoa",
                  "classificacao",
                  "classAutorizado",
                  "autorizacaoLanc",
                  "origem",
                  "seqIdAcesso",
                  "sentido",
                  "quadra",
                  "lote",
                  "panico",
                  "formaAcesso",
                  "idAcesso",
                  "seqVeiculo"
                ],
                "properties": {
                  "dispositivo": {
                    "type": "integer"
                  },
                  "pessoa": {
                    "type": "integer"
                  },
                  "classificacao": {
                    "type": "integer"
                  },
                  "classAutorizado": {
                    "type": "string",
                    "enum": [
                      "S",
                      "N"
                    ]
                  },
                  "autorizacaoLanc": {
                    "type": "string"
                  },
                  "origem": {
                    "type": "string"
                  },
                  "seqIdAcesso": {
                    "type": "integer"
                  },
                  "sentido": {
                    "type": "string",
                    "enum": [
                      "E",
                      "S"
                    ]
                  },
                  "quadra": {
                    "type": "string"
                  },
                  "lote": {
                    "type": "string"
                  },
                  "panico": {
                    "type": "string",
                    "enum": [
                      "S",
                      "N"
                    ]
                  },
                  "formaAcesso": {
                    "type": "string"
                  },
                  "idAcesso": {
                    "type": "string"
                  },
                  "seqVeiculo": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Acesso registrado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "string",
                      "example": "IDENT:..."
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/access/release/pedestrian": {
      "post": {
        "tags": [
          "Acessos"
        ],
        "summary": "Liberar acesso de pedestre",
        "description": "Libera o acesso imediato para pedestre (por exemplo, via botao ou comando externo).",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "examples": {
                "minimo": {
                  "summary": "Mínimo",
                  "value": {
                    "device": 1,
                    "usuario": "PORTARIA",
                    "quadra": "A",
                    "lote": 10,
                    "motivo": "ACESSO"
                  }
                },
                "completo": {
                  "summary": "Completo",
                  "value": {
                    "device": 1,
                    "usuario": "PORTARIA",
                    "quadra": "A",
                    "lote": 10,
                    "motivo": "ACESSO",
                    "complemento": "OBS",
                    "seqAutorizador": 123,
                    "botaoTexto": "LIBERAR"
                  }
                }
              },
              "schema": {
                "type": "object",
                "required": [
                  "device",
                  "usuario",
                  "quadra",
                  "lote",
                  "motivo"
                ],
                "properties": {
                  "device": {
                    "type": "integer"
                  },
                  "usuario": {
                    "type": "string"
                  },
                  "quadra": {
                    "type": "string"
                  },
                  "lote": {
                    "type": "integer"
                  },
                  "motivo": {
                    "type": "string"
                  },
                  "complemento": {
                    "type": "string"
                  },
                  "seqAutorizador": {
                    "type": "integer"
                  },
                  "botaoTexto": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Acesso liberado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/access/release/vehicle": {
      "post": {
        "tags": [
          "Acessos"
        ],
        "summary": "Liberar acesso de veiculo",
        "description": "Libera o acesso imediato para veiculos (por exemplo, via botao ou comando externo).",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "examples": {
                "minimo": {
                  "summary": "Mínimo",
                  "value": {
                    "device": 1,
                    "usuario": "PORTARIA",
                    "quadra": "A",
                    "lote": 10,
                    "motivo": "ACESSO"
                  }
                },
                "completo": {
                  "summary": "Completo",
                  "value": {
                    "device": 1,
                    "usuario": "PORTARIA",
                    "quadra": "A",
                    "lote": 10,
                    "motivo": "ACESSO",
                    "complemento": "OBS",
                    "seqAutorizador": 123,
                    "botaoTexto": "LIBERAR"
                  }
                }
              },
              "schema": {
                "type": "object",
                "required": [
                  "device",
                  "usuario",
                  "quadra",
                  "lote",
                  "motivo"
                ],
                "properties": {
                  "device": {
                    "type": "integer"
                  },
                  "usuario": {
                    "type": "string"
                  },
                  "quadra": {
                    "type": "string"
                  },
                  "lote": {
                    "type": "integer"
                  },
                  "motivo": {
                    "type": "string"
                  },
                  "complemento": {
                    "type": "string"
                  },
                  "seqAutorizador": {
                    "type": "integer"
                  },
                  "botaoTexto": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Acesso liberado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/vehicles": {
      "get": {
        "tags": [
          "Veiculos"
        ],
        "summary": "Listar veiculos",
        "description": "Retorna todos os veiculos cadastrados no sistema.",
        "responses": {
          "200": {
            "description": "Lista de veiculos retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Veiculos"
        ],
        "summary": "Cadastrar veiculo",
        "description": "Cria um novo veiculo no sistema.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "examples": {
                "minimo": {
                  "summary": "Mínimo",
                  "value": {
                    "plate": "ABC1234",
                    "brand": "VW",
                    "model": "GOL",
                    "color": "PRATA",
                    "user_seq": 1,
                    "tag": "TAG001"
                  }
                },
                "completo": {
                  "summary": "Completo",
                  "value": {
                    "plate": "ABC1234",
                    "brand": "VW",
                    "model": "GOL",
                    "color": "PRATA",
                    "user_seq": 1,
                    "unit_seq": 10,
                    "tag": "TAG001"
                  }
                }
              },
              "schema": {
                "type": "object",
                "required": [
                  "plate",
                  "brand",
                  "model",
                  "color",
                  "user_seq",
                  "tag"
                ],
                "properties": {
                  "plate": {
                    "type": "string"
                  },
                  "brand": {
                    "type": "string"
                  },
                  "model": {
                    "type": "string"
                  },
                  "color": {
                    "type": "string"
                  },
                  "user_seq": {
                    "type": "integer"
                  },
                  "unit_seq": {
                    "type": "integer"
                  },
                  "tag": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Veiculo cadastrado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/vehicles/{id}": {
      "get": {
        "tags": [
          "Veiculos"
        ],
        "summary": "Obter veiculo",
        "description": "Retorna os dados de um veiculo especifico pelo ID.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do veiculo"
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do veiculo retornados com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/vehicles/{id}/photo": {
      "put": {
        "tags": [
          "Veiculos"
        ],
        "summary": "Atualizar imagem do veiculo",
        "description": "Atualiza a imagem do veiculo. Requer pelo menos uma das imagens.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "photoTag": {
                    "type": "string",
                    "format": "binary"
                  },
                  "photoVehicle": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Imagem atualizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/vehicles/{id}/access": {
      "patch": {
        "tags": [
          "Veiculos"
        ],
        "summary": "Atualizar acesso do veiculo",
        "description": "Atualiza as informacoes de acesso do veiculo.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "examples": {
                "minimo": {
                  "summary": "Mínimo",
                  "value": {
                    "personSequence": 1,
                    "type": "Y",
                    "panic": "N",
                    "id2": "0005629999",
                    "user": "JOHN",
                    "vehicleSequence": 10
                  }
                },
                "completo": {
                  "summary": "Completo",
                  "value": {
                    "personSequence": 1,
                    "type": "Y",
                    "panic": "N",
                    "id2": "0005629999",
                    "useType": "N",
                    "user": "JOHN",
                    "vehicleSequence": 10
                  }
                }
              },
              "schema": {
                "type": "object",
                "required": [
                  "personSequence",
                  "type",
                  "panic",
                  "id2",
                  "user",
                  "vehicleSequence"
                ],
                "properties": {
                  "personSequence": {
                    "type": "integer"
                  },
                  "type": {
                    "type": "string",
                    "example": "Y"
                  },
                  "panic": {
                    "type": "string",
                    "example": "N"
                  },
                  "id2": {
                    "type": "string",
                    "example": "0005629999"
                  },
                  "useType": {
                    "type": "string",
                    "example": "N"
                  },
                  "user": {
                    "type": "string",
                    "example": "JONH"
                  },
                  "vehicleSequence": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Acesso atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/vehicles/{id}/lock": {
      "put": {
        "tags": [
          "Veiculos"
        ],
        "summary": "Bloquear veiculo",
        "description": "Bloqueia o acesso do veiculo no sistema.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "ID do veiculo",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Veiculo bloqueado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/vehicles/{id}/unlock": {
      "put": {
        "tags": [
          "Veiculos"
        ],
        "summary": "Desbloquear veiculo",
        "description": "Desbloqueia o acesso do veiculo no sistema.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "ID do veiculo",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Veiculo desbloqueado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/vehicles/purge": {
      "post": {
        "tags": [
          "Veiculos"
        ],
        "summary": "Purgar veiculos por periodo",
        "description": "Bloqueia o acesso de veiculos com base no periodo determinado.",
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "required": false,
            "description": "Periodo em dias",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "example": {
                "period": 30
              },
              "schema": {
                "type": "object",
                "required": [
                  "period"
                ],
                "properties": {
                  "period": {
                    "type": "integer",
                    "description": "Periodo em dias"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Veiculos bloqueados com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/exhausts/on": {
      "post": {
        "tags": [
          "Exaustores"
        ],
        "summary": "Ligar exaustor",
        "description": "Liga o exaustor por pulso no relé. Informe bloco, apartamento e tempo em minutos.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "examples": {
                "minimo": {
                  "summary": "Mínimo",
                  "value": {
                    "bloco": "A",
                    "apartamento": "123"
                  }
                },
                "completo": {
                  "summary": "Completo",
                  "value": {
                    "bloco": "A",
                    "apartamento": "123",
                    "tempo": 10
                  }
                }
              },
              "schema": {
                "type": "object",
                "required": [
                  "bloco",
                  "apartamento"
                ],
                "properties": {
                  "bloco": {
                    "type": "string",
                    "example": "A"
                  },
                  "apartamento": {
                    "type": "string",
                    "example": "123"
                  },
                  "tempo": {
                    "type": "number",
                    "format": "float",
                    "example": 10
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Exhaust ligado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Parâmetros inválidos"
          },
          "500": {
            "description": "Erro ao ligar exaustor"
          }
        }
      }
    },
    "/v2/api/exhausts/off": {
      "post": {
        "tags": [
          "Exaustores"
        ],
        "summary": "Desligar exaustor",
        "description": "Desliga o exaustor via módulo PWR e religa os demais do grupo.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "bloco": "A",
                "apartamento": "123"
              },
              "schema": {
                "type": "object",
                "required": [
                  "bloco",
                  "apartamento"
                ],
                "properties": {
                  "bloco": {
                    "type": "string",
                    "example": "A"
                  },
                  "apartamento": {
                    "type": "string",
                    "example": "123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Exhaust desligado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Parâmetros inválidos"
          },
          "500": {
            "description": "Erro ao desligar exaustor"
          }
        }
      }
    },
    "/v2/api/exhausts/status": {
      "get": {
        "tags": [
          "Exaustores"
        ],
        "summary": "Status geral dos módulos",
        "description": "Retorna o status de todos os módulos e a memória de acionamentos. Se informar id, retorna apenas o exhaust.",
        "parameters": [
          {
            "in": "query",
            "name": "id",
            "required": false,
            "description": "ID do exhaust (ex: A1, B-6, C_3)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Status retornado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Parâmetros inválidos"
          },
          "500": {
            "description": "Erro ao consultar status"
          }
        }
      }
    },
    "/v2/api/exhausts/process/status": {
      "get": {
        "tags": [
          "Exaustores"
        ],
        "summary": "Status do processo de relés",
        "description": "Retorna a memória de relés gerenciada pela API.",
        "responses": {
          "200": {
            "description": "Status retornado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erro ao consultar status do processo"
          }
        }
      }
    },
    "/v2/api/exhausts/config": {
      "post": {
        "tags": [
          "Exaustores"
        ],
        "summary": "Configurar módulo (Backlog)",
        "description": "Envia um comando backlog para o módulo Tasmota (comando já encodado).",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "modulo": "1",
                "comando": "Backlog%20PulseTime1%205;%20PulseTime2%205;%20PulseTime3%205;%20PulseTime4%205"
              },
              "schema": {
                "type": "object",
                "required": [
                  "modulo",
                  "comando"
                ],
                "properties": {
                  "modulo": {
                    "type": "string",
                    "example": "1"
                  },
                  "comando": {
                    "type": "string",
                    "example": "Backlog%20PulseTime1%205;%20PulseTime2%205;%20PulseTime3%205;%20PulseTime4%205"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Comando enviado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Parâmetros inválidos"
          },
          "500": {
            "description": "Erro ao configurar módulo"
          }
        }
      }
    },
    "/v2/api/queries/cpf/{cpf}": {
      "get": {
        "tags": [
          "Consultas"
        ],
        "summary": "Consultar CPF",
        "description": "Valida o CPF e consulta sua existência no banco.",
        "parameters": [
          {
            "in": "path",
            "name": "cpf",
            "required": true,
            "schema": {
              "type": "string",
              "example": "12345678909"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Consulta realizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "cpf": {
                          "type": "string",
                          "example": "12345678909"
                        },
                        "isValid": {
                          "type": "boolean",
                          "example": true
                        },
                        "exists": {
                          "type": "boolean",
                          "example": true
                        },
                        "person": {
                          "type": "object",
                          "nullable": true,
                          "description": "Dados da pessoa. O campo foto (quando presente) vem em base64."
                        },
                        "links": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "pessoaVinculo": {
                                "type": "object"
                              },
                              "unidade": {
                                "type": "object"
                              }
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "CPF inválido"
          },
          "422": {
            "description": "Coluna de CPF não encontrada"
          },
          "500": {
            "description": "Erro ao consultar CPF"
          }
        }
      }
    },
    "/v2/api/queries/plate/{plate}": {
      "get": {
        "tags": [
          "Consultas"
        ],
        "summary": "Consultar placa",
        "description": "Consulta veículo pela placa.",
        "parameters": [
          {
            "in": "path",
            "name": "plate",
            "required": true,
            "schema": {
              "type": "string",
              "example": "ABC1234"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Consulta realizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "plate": {
                          "type": "string",
                          "example": "ABC1234"
                        },
                        "exists": {
                          "type": "boolean",
                          "example": true
                        },
                        "vehicle": {
                          "type": "object",
                          "nullable": true
                        },
                        "unit": {
                          "type": "object",
                          "nullable": true
                        },
                        "owner": {
                          "type": "object",
                          "nullable": true
                        },
                        "accesses": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Placa inválida"
          },
          "500": {
            "description": "Erro ao consultar placa"
          }
        }
      }
    },
    "/v2/api/control/door/list": {
      "get": {
        "tags": [
          "Controle"
        ],
        "summary": "Listar portas disponíveis",
        "description": "Lista portas ativas do controle facial.",
        "responses": {
          "200": {
            "description": "Lista de portas retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/control/door/open": {
      "post": {
        "tags": [
          "Controle"
        ],
        "summary": "Abrir porta",
        "description": "Aciona abertura da porta via dispositivo facial.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "id"
                ],
                "properties": {
                  "id": {
                    "type": "integer",
                    "description": "SEQUENCIA da porta"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Comando enviado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/control/gate/list": {
      "get": {
        "tags": [
          "Controle"
        ],
        "summary": "Listar portões disponíveis",
        "description": "Lista portões cadastrados com TAG.",
        "responses": {
          "200": {
            "description": "Lista de portões retornada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/control/gate/open": {
      "post": {
        "tags": [
          "Controle"
        ],
        "summary": "Abrir portão",
        "description": "Aciona abertura do portão via serviço de controle.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "id"
                ],
                "properties": {
                  "id": {
                    "type": "integer",
                    "description": "NUMDISPOSITIVO do portão"
                  },
                  "autoCloseTime": {
                    "type": "integer",
                    "description": "Tempo em segundos para fechamento automático"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Comando enviado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object"
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v2/api/queries/tag/{tag}": {
      "get": {
        "tags": [
          "Consultas"
        ],
        "summary": "Consultar tag",
        "description": "Consulta veículo pela tag (10 dígitos).",
        "parameters": [
          {
            "in": "path",
            "name": "tag",
            "required": true,
            "schema": {
              "type": "string",
              "example": "1234567890"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Consulta realizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "tag": {
                          "type": "string",
                          "example": "1234567890"
                        },
                        "exists": {
                          "type": "boolean",
                          "example": true
                        },
                        "vehicle": {
                          "type": "object",
                          "nullable": true
                        },
                        "unit": {
                          "type": "object",
                          "nullable": true
                        },
                        "owner": {
                          "type": "object",
                          "nullable": true
                        },
                        "accesses": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    },
                    "errors": {
                      "type": "string",
                      "nullable": true,
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Tag inválida"
          },
          "500": {
            "description": "Erro ao consultar tag"
          }
        }
      }
    }
  }
}